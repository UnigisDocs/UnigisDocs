<!doctype html>
<html class="no-js" lang="es" data-content_root="../">
  <head><meta charset="utf-8"/>
    <meta name="viewport" content="width=device-width,initial-scale=1"/>
    <meta name="color-scheme" content="light dark"><meta name="viewport" content="width=device-width, initial-scale=1" />
<link rel="index" title="Índice" href="../genindex.html" /><link rel="search" title="Búsqueda" href="../search.html" /><link rel="next" title="Notificaciones Push Firebase" href="../Firebase/PushFirebase.html" /><link rel="prev" title="Integrations Center" href="../Icenter/IntegrationCenter.html" />

    <!-- Generated with Sphinx 7.2.6 and Furo 2024.01.29 -->
        <title>Courrier Adapter - UNIGIS | DOCUMENTACIÓN</title>
      <link rel="stylesheet" type="text/css" href="../_static/pygments.css?v=a746c00c" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo.css?v=135e06be" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-bootstrap.5fd3999ee7762ccc51105388f4a9d115.css?v=45cf7dbc" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-main.c949a650a448cc0ae9fd3441c0e17fb0.css?v=2a6c4383" />
    <link rel="stylesheet" type="text/css" href="../_static/panels-variables.06eb56fa6e07937060861dad626602ad.css?v=d290406d" />
    <link rel="stylesheet" type="text/css" href="../_static/styles/furo-extensions.css?v=36a5483c" />
    <link rel="stylesheet" type="text/css" href="../_static/custom.css?v=2ce97633" />
    
    


<style>
  body {
    --color-code-background: #f8f8f8;
  --color-code-foreground: black;
  --color-brand-primary: #343434;
  --color-brand-secundary: #343434;
  --color-brand-content: #00979b;
  
  }
  @media not print {
    body[data-theme="dark"] {
      --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #d0d0d0;
  --color-brand-secundary: #343434;
  --color-brand-content: #00979b;
  
    }
    @media (prefers-color-scheme: dark) {
      body:not([data-theme="light"]) {
        --color-code-background: #202020;
  --color-code-foreground: #d0d0d0;
  --color-brand-primary: #d0d0d0;
  --color-brand-secundary: #343434;
  --color-brand-content: #00979b;
  
      }
    }
  }
</style></head>
  <body>
    
    <script>
      document.body.dataset.theme = localStorage.getItem("theme") || "auto";
    </script>
    

<svg xmlns="http://www.w3.org/2000/svg" style="display: none;">
  <symbol id="svg-toc" viewBox="0 0 24 24">
    <title>Contents</title>
    <svg stroke="currentColor" fill="currentColor" stroke-width="0" viewBox="0 0 1024 1024">
      <path d="M408 442h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8zm-8 204c0 4.4 3.6 8 8 8h480c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8H408c-4.4 0-8 3.6-8 8v56zm504-486H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zm0 632H120c-4.4 0-8 3.6-8 8v56c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-56c0-4.4-3.6-8-8-8zM115.4 518.9L271.7 642c5.8 4.6 14.4.5 14.4-6.9V388.9c0-7.4-8.5-11.5-14.4-6.9L115.4 505.1a8.74 8.74 0 0 0 0 13.8z"/>
    </svg>
  </symbol>
  <symbol id="svg-menu" viewBox="0 0 24 24">
    <title>Menu</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-menu">
      <line x1="3" y1="12" x2="21" y2="12"></line>
      <line x1="3" y1="6" x2="21" y2="6"></line>
      <line x1="3" y1="18" x2="21" y2="18"></line>
    </svg>
  </symbol>
  <symbol id="svg-arrow-right" viewBox="0 0 24 24">
    <title>Expand</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="2" stroke-linecap="round" stroke-linejoin="round" class="feather-chevron-right">
      <polyline points="9 18 15 12 9 6"></polyline>
    </svg>
  </symbol>
  <symbol id="svg-sun" viewBox="0 0 24 24">
    <title>Light mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="feather-sun">
      <circle cx="12" cy="12" r="5"></circle>
      <line x1="12" y1="1" x2="12" y2="3"></line>
      <line x1="12" y1="21" x2="12" y2="23"></line>
      <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
      <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
      <line x1="1" y1="12" x2="3" y2="12"></line>
      <line x1="21" y1="12" x2="23" y2="12"></line>
      <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
      <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
    </svg>
  </symbol>
  <symbol id="svg-moon" viewBox="0 0 24 24">
    <title>Dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-moon">
      <path stroke="none" d="M0 0h24v24H0z" fill="none" />
      <path d="M12 3c.132 0 .263 0 .393 0a7.5 7.5 0 0 0 7.92 12.446a9 9 0 1 1 -8.313 -12.454z" />
    </svg>
  </symbol>
  <symbol id="svg-sun-half" viewBox="0 0 24 24">
    <title>Auto light/dark mode</title>
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24" fill="none" stroke="currentColor"
      stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="icon-tabler-shadow">
      <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
      <circle cx="12" cy="12" r="9" />
      <path d="M13 12h5" />
      <path d="M13 15h4" />
      <path d="M13 18h1" />
      <path d="M13 9h4" />
      <path d="M13 6h1" />
    </svg>
  </symbol>
</svg>

<input type="checkbox" class="sidebar-toggle" name="__navigation" id="__navigation">
<input type="checkbox" class="sidebar-toggle" name="__toc" id="__toc">
<label class="overlay sidebar-overlay" for="__navigation">
  <div class="visually-hidden">Hide navigation sidebar</div>
</label>
<label class="overlay toc-overlay" for="__toc">
  <div class="visually-hidden">Hide table of contents sidebar</div>
</label>



<div class="page">
  <header class="mobile-header">
    <div class="header-left">
      <label class="nav-overlay-icon" for="__navigation">
        <div class="visually-hidden">Toggle site navigation sidebar</div>
        <i class="icon"><svg><use href="#svg-menu"></use></svg></i>
      </label>
    </div>
    <div class="header-center">
      <a href="../index.html"><div class="brand">UNIGIS | DOCUMENTACIÓN</div></a>
    </div>
    <div class="header-right">
      <div class="theme-toggle-container theme-toggle-header">
        <button class="theme-toggle">
          <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
          <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
          <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
          <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
        </button>
      </div>
      <label class="toc-overlay-icon toc-header-icon" for="__toc">
        <div class="visually-hidden">Toggle table of contents sidebar</div>
        <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
      </label>
    </div>
  </header>
  <aside class="sidebar-drawer">
    <div class="sidebar-container">
      
      <div class="sidebar-sticky"><a class="sidebar-brand" href="../index.html">
  
  <div class="sidebar-logo-container">
    <img class="sidebar-logo only-light" src="../_static/Logolight.svg" alt="Light Logo"/>
    <img class="sidebar-logo only-dark" src="../_static/logodark.svg" alt="Dark Logo"/>
  </div>
  
  
</a><form class="sidebar-search-container" method="get" action="../search.html" role="search">
  <input class="sidebar-search" placeholder="Búsqueda" name="q" aria-label="Búsqueda">
  <input type="hidden" name="check_keywords" value="yes">
  <input type="hidden" name="area" value="default">
</form>
<div id="searchbox"></div><div class="sidebar-scroll"><div class="sidebar-tree">
  <ul class="current">
<li class="toctree-l1 has-children"><a class="reference internal" href="../GettingStart/Gettingstart.html">Getting Started</a><input class="toctree-checkbox" id="toctree-checkbox-1" name="toctree-checkbox-1" role="switch" type="checkbox"/><label for="toctree-checkbox-1"><div class="visually-hidden">Toggle navigation of Getting Started</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../GettingStart/Introducci%C3%B3n/intro.html">Introducción</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GettingStart/CircuitoOp/Circuito.html">Circuito Operativo</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GettingStart/Metodolog%C3%ADa/Met.html">Metodología de Implementación</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GettingStart/Arq/Arq.html">Arquitectura Funcional y Técnica</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GettingStart/Admpedidos/Adminp.html">Administración de Pedidos</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GettingStart/Ruteo/Ruteo.html">Planeación de Distribución</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GettingStart/Gesti%C3%B3nviajes/Gviajes.html">Gestión de Viajes</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GettingStart/Yard/Yard.html">Yard Management</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GettingStart/Tracking/Tracking.html">Tracking</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GettingStart/B2B/b2b.html">Portal B2B (business-to-business)</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GettingStart/Mobile/Deliveries.html">UNIGIS X DELIVERIES</a></li>
<li class="toctree-l2"><a class="reference internal" href="../GettingStart/Tarifaci%C3%B3n/Tarifa.html">Finalización de Viajes y Tarifación</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../MAPILogisticServices/MapiConfig.html">MAPI Logistic Services</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Routing/Routing.html">Smart Planning</a></li>
<li class="toctree-l1 has-children"><a class="reference internal" href="../json/Indexsyncout.html">Json Syncout</a><input class="toctree-checkbox" id="toctree-checkbox-2" name="toctree-checkbox-2" role="switch" type="checkbox"/><label for="toctree-checkbox-2"><div class="visually-hidden">Toggle navigation of Json Syncout</div><i class="icon"><svg><use href="#svg-arrow-right"></use></svg></i></label><ul>
<li class="toctree-l2"><a class="reference internal" href="../json/syncout/SyncoutG.html">Syncout Genérico</a></li>
<li class="toctree-l2"><a class="reference internal" href="../json/syncout/Syncout.html">Syncout V2</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../MapServer/MapServer.html">MapServer X</a></li>
<li class="toctree-l1"><a class="reference internal" href="../CTE/ctewebservice.html">Web Service CTE</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Icenter/IntegrationCenter.html">Integrations Center</a></li>
<li class="toctree-l1 current current-page"><a class="current reference internal" href="#">Courrier Adapter</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Firebase/PushFirebase.html">Notificaciones Push Firebase</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Standard/StandardHDVHDR.html">Standard HDV &amp; HDR</a></li>
<li class="toctree-l1"><a class="reference internal" href="../RNDC/RNDC.html">Registro Nacional Despachos de Carga (RNDC)</a></li>
<li class="toctree-l1"><a class="reference internal" href="../Tarifas/ConfigTarifas.html">Configuración y Gestión de Tarifas</a></li>
</ul>
<ul>
<li class="toctree-l1"><a class="reference internal" href="../FAQ/PreguntasFrecuentes.html">FAQs</a></li>
</ul>

</div>
</div>

      </div>
      
    </div>
  </aside>
  <div class="main">
    <div class="content">
      <div class="article-container">
        <a href="#" class="back-to-top muted-link">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24">
            <path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12z"></path>
          </svg>
          <span>Back to top</span>
        </a>
        <div class="content-icon-container">
          
<div class="theme-toggle-container theme-toggle-content">
            <button class="theme-toggle">
              <div class="visually-hidden">Toggle Light / Dark / Auto color theme</div>
              <svg class="theme-icon-when-auto"><use href="#svg-sun-half"></use></svg>
              <svg class="theme-icon-when-dark"><use href="#svg-moon"></use></svg>
              <svg class="theme-icon-when-light"><use href="#svg-sun"></use></svg>
            </button>
          </div>
          <label class="toc-overlay-icon toc-content-icon" for="__toc">
            <div class="visually-hidden">Toggle table of contents sidebar</div>
            <i class="icon"><svg><use href="#svg-toc"></use></svg></i>
          </label>
        </div>
        <article role="main">
          <section id="courrier-adapter">
<h1>Courrier Adapter<a class="headerlink" href="#courrier-adapter" title="Link to this heading">#</a></h1>
<section id="descripcion">
<h2>Descripción<a class="headerlink" href="#descripcion" title="Link to this heading">#</a></h2>
<div class="justified-text docutils container">
<p>UNIGIS Courier tiene como objetivo centralizar la integración de paqueteras y líneas de transporte usadas para el seguimiento de entregas por mensajería y que su consumo es por un tercero entre UNIGIS y el cliente.</p>
<p>Las integraciones que se agregan a UNIGIS Courier tienen como objetivo resolver la necesidad inicial y tener la capacidad de implementarse en otros clientes en caso de requerirlo ya que se usa el formato de consumo más estándar y se mantiene la funcionalidad VS UNIGIS en cada integración.</p>
<p>La funcionalidad principal es obtener el seguimiento de cada guía (Paquete), que es almacenada a nivel de parada y una vez que llegue al estado final realizar el cambio de estado. Como función adicional y por configuración podrá realizar este seguimiento a nivel de viaje y agrupado.</p>
<p>Courier se mantiene monitoreando los estados 24/7 con el objetivo de tener el seguimiento en tiempo real.</p>
</div>
</section>
<section id="pre-requisitos">
<h2>Pre Requisitos<a class="headerlink" href="#pre-requisitos" title="Link to this heading">#</a></h2>
<ol class="arabic simple">
<li><p>Solicitar la instalación de UNIGIS_AdapterCourier.</p></li>
<li><p>Ruta en repositorio: U:ProductoOtrosUNIGIS_CourierAdapter.</p></li>
</ol>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Validar la versión que se va a instalar.</p>
</div>
</section>
<section id="informacion-tecnica">
<h2>Información Técnica<a class="headerlink" href="#informacion-tecnica" title="Link to this heading">#</a></h2>
<section id="tablas-y-campos">
<h3>Tablas y Campos<a class="headerlink" href="#tablas-y-campos" title="Link to this heading">#</a></h3>
<ul class="simple">
<li><p>Paquetera</p></li>
</ul>
<p>Tabla principal en la que se definen los filtros para recuperar los viajes y campo de búsqueda, (Entre más filtros se agregan se restringe más la consulta).</p>
<div class="table-wrapper colwidths-given docutils container" id="id1">
<table class="docutils align-default" id="id1">
<caption><span class="caption-text">Paquetera</span><a class="headerlink" href="#id1" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 15.4%" />
<col style="width: 15.4%" />
<col style="width: 69.2%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Campo</p></th>
<th class="head"><p>Tipo</p></th>
<th class="head"><p>Descripción/Uso</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>ReferenciaExterna</p></td>
<td><p>Varchar</p></td>
<td><p>Nombre de la paquetera.</p></td>
</tr>
<tr class="row-odd"><td><p>Descripcion</p></td>
<td><p>Varchar</p></td>
<td><p>Breve descripción de la paquetera o mismo nombre.</p></td>
</tr>
<tr class="row-even"><td><p>IdVehiculo</p></td>
<td><p>Int</p></td>
<td><p>Filtro opcional al dejar nulo considera todos los vehículos.</p></td>
</tr>
<tr class="row-odd"><td><p>IdConductor</p></td>
<td><p>Int</p></td>
<td><p>Filtro opcional al dejar nulo considera todos los conductores.</p></td>
</tr>
<tr class="row-even"><td><p>IdCategoriaViaje</p></td>
<td><p>Int</p></td>
<td><p>Filtro opcional al dejar nulo considera todas las categorías.</p></td>
</tr>
<tr class="row-odd"><td><p>IdTipoViaje</p></td>
<td><p>Int</p></td>
<td><p>Filtro opcional al dejar nulo considera todos los tipos de viaje.</p></td>
</tr>
<tr class="row-even"><td><p>CampoGuia</p></td>
<td><p>Varchar</p></td>
<td><p>Cualquier campo tipo Varchar de la tabla Parada o Viaje.</p></td>
</tr>
<tr class="row-odd"><td><p>IdTransporte</p></td>
<td><p>Int</p></td>
<td><p>Filtro opcional al dejar nulo considera todos los vehículos.</p></td>
</tr>
<tr class="row-even"><td><p>IdEstadoViaje</p></td>
<td><p>Int</p></td>
<td><p>Filtro opcional al dejar nulo considera todos los estados de viaje.</p></td>
</tr>
<tr class="row-odd"><td><p>IdClienteOrden</p></td>
<td><p>Bigint</p></td>
<td><p>Filtro opcional al dejar nulo considera todos los Clientes orden.</p></td>
</tr>
<tr class="row-even"><td><p>IdCliente</p></td>
<td><p>Int</p></td>
<td><p>Filtro opcional al dejar nulo considera todos los Clientes.</p></td>
</tr>
<tr class="row-odd"><td><p>Entidad</p></td>
<td><p>Varchar</p></td>
<td><p>Nulo para mantener default Parada Viaje para buscar información a ese nivel.</p></td>
</tr>
<tr class="row-even"><td><p>Activo</p></td>
<td><p>Bit</p></td>
<td><p>Flag de control de registros activos o disponibles.</p></td>
</tr>
<tr class="row-odd"><td><p>FechaCreacion</p></td>
<td><p>Datetime</p></td>
<td><p>Al realizar el registro se guarda en automático.</p></td>
</tr>
<tr class="row-even"><td><p>FechaUltimaConsulta</p></td>
<td><p>Datetime</p></td>
<td><p>Dato actualizado por cada consulta realizada.</p></td>
</tr>
</tbody>
</table>
</div>
<ul class="simple">
<li><p>PaqueteraConfiguracion</p></li>
</ul>
<p>Tabla de homologación de estados de la paquetera VS estados UNIGIS.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Sin estados configurados no se hacen cambios de estado</p>
</div>
<div class="table-wrapper colwidths-given docutils container" id="id2">
<table class="docutils align-default" id="id2">
<caption><span class="caption-text">PaqueteraConfiguración</span><a class="headerlink" href="#id2" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 15.4%" />
<col style="width: 15.4%" />
<col style="width: 69.2%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Campo</p></th>
<th class="head"><p>Tipo</p></th>
<th class="head"><p>Descripción/Uso</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>IdPaquetera</p></td>
<td><p>Int</p></td>
<td><p>Relación con la tabla Paquetera.</p></td>
</tr>
<tr class="row-odd"><td><p>EstadoPaquetera</p></td>
<td><p>Varchar</p></td>
<td><p>Este dato corresponde al dato con el que se hará el match VS el estado UNIGIS Ejemplo: INGRESADO EN AGENCIA.</p></td>
</tr>
<tr class="row-even"><td><p>IdEstadoParada</p></td>
<td><p>Int</p></td>
<td><p>Estado UNIGIS al que corresponde con el campo anterior.</p></td>
</tr>
<tr class="row-odd"><td><p>Finalizado</p></td>
<td><p>Bit</p></td>
<td><p>Marcar en true, cuando las paradas se encuentren en este estado ya no serán consideradas porque ya finalizaron su ruta.</p></td>
</tr>
<tr class="row-even"><td><p>FechaCreacion</p></td>
<td><p>Datetime</p></td>
<td><p>Dato generado en automático por cada registro.</p></td>
</tr>
</tbody>
</table>
</div>
<ul class="simple">
<li><p>PaqueteraCredenciales</p></li>
</ul>
<p>Tabla para configurar los accesos al servicio.</p>
<div class="table-wrapper colwidths-given docutils container" id="id3">
<table class="docutils align-default" id="id3">
<caption><span class="caption-text">PaqueteraCredenciales</span><a class="headerlink" href="#id3" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 15.4%" />
<col style="width: 15.4%" />
<col style="width: 69.2%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Campo</p></th>
<th class="head"><p>Tipo</p></th>
<th class="head"><p>Descripción/Uso</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>IdPaquetera</p></td>
<td><p>Int</p></td>
<td><p>Relación con la tabla Paquetera.</p></td>
</tr>
<tr class="row-odd"><td><p>Clave</p></td>
<td><p>Varchar</p></td>
<td><p>Depende de cómo se configure la paquetera el uso, puede ser un token o una contraseña especifica.</p></td>
</tr>
<tr class="row-even"><td><p>Usuario</p></td>
<td><p>Varchar</p></td>
<td><p>Usuario o cuenta de acceso.</p></td>
</tr>
<tr class="row-odd"><td><p>Password</p></td>
<td><p>Varchar</p></td>
<td><p>Password o token de acceso.</p></td>
</tr>
<tr class="row-even"><td><p>URL</p></td>
<td><p>Varchar</p></td>
<td><p>URL del servicio de la paquetera a consumir.</p></td>
</tr>
<tr class="row-odd"><td><p>URL2</p></td>
<td><p>Varchar</p></td>
<td><p>En casos para recuperar POD u otro proceso agregar otra URL.</p></td>
</tr>
</tbody>
</table>
</div>
<ul class="simple">
<li><p>MotivoConfiguración</p></li>
</ul>
<p>Cuando existe un listado de motivos de no entrega se configuran en esta tabla. (Configuración similar a PaqueteraConfiguracion).</p>
<div class="table-wrapper colwidths-given docutils container" id="id4">
<table class="docutils align-default" id="id4">
<caption><span class="caption-text">PaqueteraCredenciales</span><a class="headerlink" href="#id4" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 15.4%" />
<col style="width: 15.4%" />
<col style="width: 69.2%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Campo</p></th>
<th class="head"><p>Tipo</p></th>
<th class="head"><p>Descripción/Uso</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>IdPaquetera</p></td>
<td><p>Int</p></td>
<td><p>Relación con la tabla Paquetera.</p></td>
</tr>
<tr class="row-odd"><td><p>MotivoPaquetera</p></td>
<td><p>Varchar</p></td>
<td><p>Este dato corresponde al dato con el que se hará el match VS el motivo UNIGIS Ejemplo: RECHAZO CLIENTE.</p></td>
</tr>
<tr class="row-even"><td><p>IdMotivo</p></td>
<td><p>Bigint</p></td>
<td><p>Motivo UNIGIS al que corresponde con el campo anterior.</p></td>
</tr>
<tr class="row-odd"><td><p>Activo</p></td>
<td><p>Bit</p></td>
<td><p>Flag.</p></td>
</tr>
<tr class="row-even"><td><p>FechaCreacion</p></td>
<td><p>Datetime</p></td>
<td><p>Registro automático al momento de crear.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
</section>
<section id="parametros">
<h2>Parámetros<a class="headerlink" href="#parametros" title="Link to this heading">#</a></h2>
<p>Los parámetros que se deben configurar en el adapter se encuentran en el archivo App.config.</p>
<div class="table-wrapper colwidths-given docutils container" id="id5">
<table class="docutils align-default" id="id5">
<caption><span class="caption-text">Parámetros</span><a class="headerlink" href="#id5" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 15.4%" />
<col style="width: 61.5%" />
<col style="width: 23.1%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Clave</p></th>
<th class="head"><p>Definición</p></th>
<th class="head"><p>Ejemplo</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>TimeZone</p></td>
<td><p>Configurar zona según el país al que corresponde la información en la que se procesa.</p></td>
<td><p>Central Standard Time (México)</p></td>
</tr>
<tr class="row-odd"><td><p>DebugFile</p></td>
<td><p>Número negativo, días que se va a mantener archivos o log.</p></td>
<td><p>-5</p></td>
</tr>
<tr class="row-even"><td><p>Dir_Log</p></td>
<td><p>Ruta para almacenar el log</p></td>
<td><p>C:LOG</p></td>
</tr>
<tr class="row-odd"><td><p>StopsLimit</p></td>
<td><p>Número máximo de paradas a recuperar en un bloque de ejecución.</p></td>
<td><p>1000</p></td>
</tr>
<tr class="row-even"><td><p>Culture</p></td>
<td><p>Configuración de la región.</p></td>
<td><p>En</p></td>
</tr>
<tr class="row-odd"><td><p>LogFile</p></td>
<td><p>Permite guardar log en archivo</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-even"><td><p>RepetirCada</p></td>
<td><p>Intervalo de tiempo de ejecución.</p></td>
<td><p>300 (esto se convierte a milisegundos) Equivale a 5 minutos</p></td>
</tr>
<tr class="row-odd"><td><p>Take</p></td>
<td><p>Número de viajes a tomar por ejecución.</p></td>
<td><p>100</p></td>
</tr>
<tr class="row-even"><td><p>EndShipment</p></td>
<td><p>Indicar si finaliza el viaje.</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-odd"><td><p>EndShipmentStatus</p></td>
<td><p>Si el parámetro anterior es true indicar el estado al que pasa el viaje para finalizar.</p></td>
<td><p>Finalizado</p></td>
</tr>
<tr class="row-even"><td><p>ValidarTransicion</p></td>
<td><p>Para cambios de estado valida la transición antes del cambio.</p></td>
<td><p>True</p></td>
</tr>
<tr class="row-odd"><td><p>MismoEstado</p></td>
<td><p>Para cambios de estado valida si es el mismo origen y destino.</p></td>
<td><p>False</p></td>
</tr>
<tr class="row-even"><td><p>Token</p></td>
<td><p>Token maestro para realizar la petición del consumo de la API externa.</p></td>
<td><p>eyJpc3MiOiJodHRwczpcL1wvYXBpLmNhc3R</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="procesos">
<h2>Procesos<a class="headerlink" href="#procesos" title="Link to this heading">#</a></h2>
<p>Una vez que se tiene el deploy y la configuración se comenzarán a ejecutar los siguientes procesos para lograr la recuperación de los estados y los cambios necesarios en UNIGIS.</p>
<p>Los siguientes procesos son métodos utilizados de forma interna por el adapter, no requieren configuración:</p>
<ul class="simple">
<li><p>ConsultaViajesConfiguracionPaquetera</p></li>
</ul>
<p>Según los filtros configurados en la tabla Paquetera se buscan los viajes, en caso de no tener filtros por default busca todos los viajes en estado activo, esto como resultado generara una lista de viajes con todos sus datos para cada uno.</p>
<ul class="simple">
<li><p>ObtieneParadasViajes</p></li>
</ul>
<p>Con la lista de viajes del método anterior, uno a uno se recuperan las paradas que no se encuentren en estado finalizado, de acuerdo con lo configurado en PaqueteraConfiguracion, es decir que no se van a tomar en cuenta las paradas con estado donde el campo Finalizado se encuentre en true.</p>
<img alt="../_images/ejemplo.png" class="align-center" src="../_images/ejemplo.png" />
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Paradas en el estado Entregado no serán consideradas ya que cumplieron su flujo completo.</p>
</div>
<p>El resto de las paradas del viaje que se está ejecutando en ese momento se recuperan y continúan al siguiente método.</p>
<ul class="simple">
<li><p>BuscarDatosParadas</p></li>
</ul>
<p>Con la lista de paradas se realiza el proceso de consulta según la paquetera en ejecución Se menciona a detalle en el anexo PANTALLAS DE CONFIGURACIÓN</p>
<ul class="simple">
<li><p>EndShipment</p></li>
</ul>
<p>Si el parámetro “EndShipment” del archivo App.config se encuentra en true validará de nuevo las paradas del viaje y si estas ya se encuentran en un estado finalizado, realizará el cambio de estado del viaje al configurado en el parámetro “EndShipmentStatus” del archivo App.config.</p>
<p>El objetivo de pasar las paradas a un estado finalizado y los viajes es minimizar la cantidad de veces que se consultan en cada ejecución, permitiendo así la recuperación de información precisa en tiempo real.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>Todas las paqueteras integradas ejecutan los mismos métodos según la configuración de cada una.</p>
</div>
<ul class="simple">
<li><p>ModificarEstadoParada</p></li>
</ul>
<p>Este método es el mismo utilizado en el servicio UNIGIS MAPI Logistic, la lógica que ejecuta de manera interna es la misma.</p>
<p>Parámetros enviados a través del método:</p>
<div class="table-wrapper colwidths-given docutils container" id="id6">
<table class="docutils align-default" id="id6">
<caption><span class="caption-text">Parámetros</span><a class="headerlink" href="#id6" title="Link to this table">#</a></caption>
<colgroup>
<col style="width: 25.0%" />
<col style="width: 75.0%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>Parámetro pEstadoParada</p></th>
<th class="head"><p>Descripción</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>Estado</p></td>
<td><p>Descripción del estado al que se va a modificar la parada.</p></td>
</tr>
<tr class="row-odd"><td><p>EstadoFecha</p></td>
<td><p>Según la respuesta del servicio o API se recupera la fecha del estado en que se ejecutó, en caso de no tener fecha se pone la actual del servidor.</p></td>
</tr>
<tr class="row-even"><td><p>IdViaje</p></td>
<td><p>Id del viaje al que pertenece la parada que se está ejecutando.</p></td>
</tr>
<tr class="row-odd"><td><p>RefDocumento</p></td>
<td><p>Parada.ReferenciaExterna.</p></td>
</tr>
<tr class="row-even"><td><p>Motivo</p></td>
<td><p>Solo en las paqueteras que aplique. Descripcion del motivo.</p></td>
</tr>
</tbody>
</table>
</div>
</section>
<section id="pantallas-de-configuracion">
<h2>Pantallas de Configuración<a class="headerlink" href="#pantallas-de-configuracion" title="Link to this heading">#</a></h2>
<p>La ruta para llegar a los ABM de configuración es:</p>
<p><kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Integrations</kbd> <kbd class="kbd docutils literal notranslate">Center</kbd></kbd> –&gt; <kbd class="kbd docutils literal notranslate">Couriers</kbd> –&gt; <kbd class="kbd docutils literal notranslate">Configuración</kbd></p>
<p>En esta pantalla se podrán visualizar los registros de paquetera configurados y el log como funciones principales.
Otras funciones: <kbd class="kbd docutils literal notranslate">Crear</kbd>, <kbd class="kbd docutils literal notranslate">Editar</kbd>, <kbd class="kbd docutils literal notranslate">Borrar</kbd> o <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Buscar</kbd> <kbd class="kbd docutils literal notranslate">Registros</kbd></kbd>.</p>
<section id="logs">
<h3>Logs<a class="headerlink" href="#logs" title="Link to this heading">#</a></h3>
<img alt="../_images/logs.png" class="align-center" src="../_images/logs.png" />
<p>Los logs se guardan en forma descendente y se podrá realizar la búsqueda entre ellos por Id, Bultos, Parada, Destino y Estado.</p>
<p>Adicional a la pantalla de logs de Courier se almacenan registros de log general en el siguiente apartado: <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Integrations</kbd> <kbd class="kbd docutils literal notranslate">Center</kbd></kbd> –&gt; <kbd class="kbd compound docutils literal notranslate"><kbd class="kbd docutils literal notranslate">Integrations</kbd> <kbd class="kbd docutils literal notranslate">Logs</kbd></kbd> –&gt; <kbd class="kbd docutils literal notranslate">Logs/Bitácoras</kbd>.</p>
<p>Este log guarda todos los errores, alertas y mensajes general del adapter.</p>
<img alt="../_images/logogrl.png" class="align-center" src="../_images/logogrl.png" />
</section>
<section id="crear-editar">
<h3>Crear/Editar<a class="headerlink" href="#crear-editar" title="Link to this heading">#</a></h3>
<p>En una sola pantalla se podrán configurar las 4 tablas de Courier las cuales son:</p>
<ol class="arabic simple">
<li><p>Pestaña General: Configurar el nombre de la paquetera, filtros de consulta y el campo de la guía.</p></li>
</ol>
<img alt="../_images/crear.png" class="align-center" src="../_images/crear.png" />
<ol class="arabic simple" start="2">
<li><p>Pestaña Credenciales: Muestra el formulario para ingresar los datos de seguridad y URL del servicio de la paquetera.</p></li>
</ol>
<img alt="../_images/credenciales.png" class="align-center" src="../_images/credenciales.png" />
<ol class="arabic simple" start="3">
<li><p>Pestaña Configuración: Con el botón <kbd class="kbd docutils literal notranslate">+</kbd> se pueden agregar los estados necesarios y comenzar a relacionar con el estado UNIGIS, se muestra una lista con los estados de parada configurados.</p></li>
</ol>
<div class="admonition important">
<p class="admonition-title">Importante</p>
<p>Marcar al menos 1 estado como finalizado que es el punto final de seguimiento.</p>
</div>
<img alt="../_images/config.png" class="align-center" src="../_images/config.png" />
<ol class="arabic simple" start="4">
<li><p>Pestaña Motivo: Con el botón <kbd class="kbd docutils literal notranslate">+</kbd> se pueden agregar los motivos que sean necesarios siempre y cuando la paquetera lo utilice.</p></li>
</ol>
<img alt="../_images/motivo.png" class="align-center" src="../_images/motivo.png" />
<p>Al finalizar dar clic en Crear y se guardan todos los registros en las tablas que les corresponde.</p>
<div class="admonition note">
<p class="admonition-title">Nota</p>
<p>La configuración que se muestra en cada paquetera es en base a un requerimiento inicial, se puede modificar según la necesidad de cada cliente.</p>
</div>
</section>
</section>
</section>

        </article>
      </div>
      <footer>
        
        <div class="related-pages">
          <a class="next-page" href="../Firebase/PushFirebase.html">
              <div class="page-info">
                <div class="context">
                  <span>Next</span>
                </div>
                <div class="title">Notificaciones Push Firebase</div>
              </div>
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
            </a>
          <a class="prev-page" href="../Icenter/IntegrationCenter.html">
              <svg class="furo-related-icon"><use href="#svg-arrow-right"></use></svg>
              <div class="page-info">
                <div class="context">
                  <span>Previous</span>
                </div>
                
                <div class="title">Integrations Center</div>
                
              </div>
            </a>
        </div>
        <div class="bottom-of-page">
          <div class="left-details">
            <div class="copyright">
                Copyright &#169; 2024, UNIGIS TMS
            </div>
            Made with 
            <a href="https://github.com/pradyunsg/furo">Furo</a>
            
          </div>
          <div class="right-details">
            
          </div>
        </div>
        
      </footer>
    </div>
    <aside class="toc-drawer">
      
      
      <div class="toc-sticky toc-scroll">
        <div class="toc-title-container">
          <span class="toc-title">
            On this page
          </span>
        </div>
        <div class="toc-tree-container">
          <div class="toc-tree">
            <ul>
<li><a class="reference internal" href="#">Courrier Adapter</a><ul>
<li><a class="reference internal" href="#descripcion">Descripción</a></li>
<li><a class="reference internal" href="#pre-requisitos">Pre Requisitos</a></li>
<li><a class="reference internal" href="#informacion-tecnica">Información Técnica</a><ul>
<li><a class="reference internal" href="#tablas-y-campos">Tablas y Campos</a></li>
</ul>
</li>
<li><a class="reference internal" href="#parametros">Parámetros</a></li>
<li><a class="reference internal" href="#procesos">Procesos</a></li>
<li><a class="reference internal" href="#pantallas-de-configuracion">Pantallas de Configuración</a><ul>
<li><a class="reference internal" href="#logs">Logs</a></li>
<li><a class="reference internal" href="#crear-editar">Crear/Editar</a></li>
</ul>
</li>
</ul>
</li>
</ul>

          </div>
        </div>
      </div>
      
      
    </aside>
  </div>
</div><script src="../_static/documentation_options.js?v=e2bb6099"></script>
    <script src="../_static/doctools.js?v=888ff710"></script>
    <script src="../_static/sphinx_highlight.js?v=dc90522c"></script>
    <script src="../_static/scripts/furo.js?v=32e29ea5"></script>
    <script src="../_static/translations.js?v=efdbd0b9"></script>
    </body>
</html>